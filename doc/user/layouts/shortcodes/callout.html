{{- $parentPath := partial "relative-link.html" . -}}
<div class="callout">

  <div>
    {{ .Inner | $.Page.RenderString }}

    <p>
      {{ if and ($.Params) (isset $.Params "primary_text") }}
      <a class="btn" {{ with .Get "primary_url" }} href="
        {{- $primaryURL := . | safeURL -}}
          {{- if hasPrefix $primaryURL "/" -}}
            {{- $parentPath }}{{ $primaryURL | relURL -}}
          {{- else -}}
            {{- $primaryURL -}}
          {{- end -}}"
        {{- end }}>
        {{ .Get "primary_text" }}
      </a>
      {{ end }}
      {{ if and ($.Params) (isset $.Params "secondary_text") }}
      <a class="btn" {{ with .Get "secondary_url" }} href="
        {{- $secondaryURL := . | safeURL -}}
          {{- if hasPrefix $secondaryURL "/" -}}
            {{- $parentPath }}{{ $secondaryURL | relURL -}}
          {{- else -}}
            {{- $secondaryURL -}}
          {{- end -}}"
        {{- end }}>
        {{ .Get "secondary_text" }}
      </a>
      {{ end }}
    </p>
  </div>

</div>
